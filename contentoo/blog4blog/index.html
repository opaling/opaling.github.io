<!DOCTYPE html>
<html lang="en">
<head>
    <!-- ... [same as before] ... -->
</head>
<body>

<header>
    <!-- Replace the src attribute with the actual URL of the Contentoo logo -->
    <img src="logo.png" alt="Contentoo Logo">
</header>

<main>
    <!-- ... [same as before] ... -->
</main>

<script>
    const API_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJvcmdhbmlzYXRpb25JZCI6Im9yZy1mNDliNzMzMi1hY2U4LTQxNzctOTgzYy0wN2NiNjU0OWNiNjUiLCJvcmdTaG9ydE5hbWUiOiJwNXp5M2giLCJwcm9qZWN0SWQiOiJjdnZzYmQ0dCIsImlhdCI6MTczMzM0MTgzMiwiZXhwIjoxNzM1OTMzODMyfQ.6fxTF3UofBML3oQMqF_JlJUi4vboHj5H7urtt0ArhIk'; // Replace with your actual API key
    const apiUrl = 'https://p5zy3h.lleverage.run/1i7kpv1m';

    document.getElementById('magicButton').addEventListener('click', function() {
        var blogUrl = document.getElementById('blogUrl').value.trim();
        var spinner = document.getElementById('spinner');
        var outputDiv = document.getElementById('output');

        if (!blogUrl) {
            alert('Please enter a blog post URL.');
            return;
        }

        outputDiv.innerHTML = '';
        spinner.style.display = 'block';

        var data = { blog: blogUrl };

        fetch(apiUrl, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${API_KEY}`
            },
            body: JSON.stringify(data)
        })
        .then(response => {
            if (!response.ok) {
                return response.text().then(text => {
                    throw new Error(`Error ${response.status}: ${response.statusText}\n${text}`);
                });
            }
            return response.json();
        })
        .then(data => {
            spinner.style.display = 'none';
            outputDiv.innerHTML = data.output;
        })
        .catch(error => {
            console.error('Error:', error);
            spinner.style.display = 'none';
            outputDiv.innerHTML = `<p style="color:red;">${error.message}</p>`;
        });
    });
</script>

</body>
</html>